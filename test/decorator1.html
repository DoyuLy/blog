<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        function Sale(price){
            this.price = price || 100;
        }
        Sale.prototype.getPrice = function(){
            return this.price;
        }

        Sale.prototype.decorate = function(decorator){
            var F = function(){},
                    overrides = this.constructor.decorators[decorator],
                    i,
                    newobj;
            F.prototype = this;
            newobj = new F();
            newobj.uber = F.prototype;
            for(i in overrides){
                if(overrides.hasOwnProperty(i)){
                    newobj[i] = overrides[i];
                }
            }
            return newobj;
        }

        Sale.decorators = {
            fedtax: {
                getPrice: function(){
                    var price = this.uber.getPrice();
                    price += price * 5 / 100;
                    return price;
                }
            },
            quebec: {
                getPrice: function () {
                    var price = this.uber.getPrice();
                    price += price * 7.5 / 100;
                    return price;
                }
            },
            dollar: {
                getPrice: function(){
                    return '$ ' + this.uber.getPrice().toFixed(2);
                }
            },
            cad: {
                getPrice: function(){
                    return 'CDN$ ' + this.uber.getPrice().toFixed(2);
                }
            }
        }


        //=============================

        var sale = new Sale();
        sale = sale.decorate('fedtax');
        sale = sale.decorate('quebec');
        sale = sale.decorate('dollar');
        console.log(sale.getPrice())
        ;
    </script>
</head>
<body>

</body>
</html>